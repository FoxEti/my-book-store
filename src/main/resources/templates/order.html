<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <title>Thank you for buying!</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
</head>
<body>
<h1>Payment Information</h1>

<h1>Thank You for Your Purchase!</h1>

<p>Total Price: <span th:text="${totalPrice}"></span></p>

<!-- Form for submitting order details -->
<form id="paymentForm" th:action="@{/processPayment}" method="post">
    <input type="hidden" id="id" name="id" value="0"/>
    <input type="hidden" id="totalPrice" name="totalPrice" th:value="${totalPrice}"/>
    <input type="hidden" id="userId" name="userId" th:value="${userId}"/>

    <div class="form-group">
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" placeholder="Enter Address" required>
    </div>

    <div class="form-group">
        <label for="phoneNumber">Phone Number:</label>
        <input type="text" id="phoneNumber" name="phoneNumber" placeholder="Enter Phone Number" required>
    </div>

    <div class="form-group">
        <label for="shippingType">Shipping Type:</label>
        <select id="shippingType" name="shippingType" required>
            <option value="">Select Shipping Type</option>
            <option value="Courier">Courier</option>
            <option value="Self-delivery">Self-delivery</option>
        </select>
    </div>

    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <!-- Submit button -->
    <button type="button" onclick="submitForm()">Pay Now</button>
</form>

<p>Your order has been successfully placed. We will process your order soon.</p>

<script>
    function submitForm() {
        document.getElementById('paymentForm').submit();
    }
</script>

</body>
</html>
